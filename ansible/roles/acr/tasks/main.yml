---
- name: ðŸ”‘ Login to ACR
  community.docker.docker_login:
    registry_url: "{{ acr_name }}"
    username: "{{ acr_username }}"
    password: "{{ acr_password }}"

- name: ðŸ“¦ Pull nginx from Docker Hub
  community.docker.docker_image:
    name: nginx:latest
    source: pull

- name: ðŸ“¦ Pull redis from Docker Hub
  community.docker.docker_image:
    name: redis:6.0.8
    source: pull

- name: ðŸ· Tag nginx for ACR
  command: >
    docker tag nginx:latest {{ acr_name }}/nginx:latest

- name: ðŸ· Tag redis for ACR
  command: >
    docker tag redis:6.0.8 {{ acr_name }}/redis:6.0.8

- name: ðŸš€ Push nginx to ACR
  command: >
    docker push {{ acr_name }}/nginx:latest

- name: ðŸš€ Push redis to ACR
  command: >
    docker push {{ acr_name }}/redis:6.0.8
